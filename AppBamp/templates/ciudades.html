{% load static %}
<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type= "text/css" href="{% static 'ciudades.css' %}">
    <title>Ciudades</title>
</head>

<body>
  <div class="container">
    <h1>Â¡Selecciona la ciudad deseada!</h1>
    <h2>Ciudades a las que llegamos:</h2>
    <form action="{% url 'categoria_restaurante' %}" method="post"> <!-- categoria_restaurante es el nombre de la url a la queremos ir, en urls.py-->
        {% csrf_token %}   <!--requrimiento de seguridad para hacer un post al servidor (tiene que estar si o si)-->
        <select name="id_ciudad" id="ciudad" required>
            <option value="" disabled selected hidden>Selecciona una ciudad</option>
            {% for obj in ciudades %} <!-- aqui estamos sacando las opciones que nos vienen del view-->
                <option value="{{ obj.id }}">{{ obj.nombre }}</option>
            {% endfor %}
        </select>
        <button type="submit">Elegir</button> <!-- cuando tiene un type submit dentro de un formulario, cuadno clikeas el boton envia el formulario al servidor-->
    </form>
  </div>
  
  <script>
  function myFunction() {
      var ciudad = document.querySelector('#ciudad').value;
      window.location.href = '/categorias/' + ciudad;
  }
  </script>
  </body>
  